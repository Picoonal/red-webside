import{_ as f,a as h,L as x}from"./comp-libs-lV6NIU9q.js";import{u as T}from"./index.es-RSAZJdtD.js";import{d as v,a7 as C,f as n,h as g,l as s,$ as a,p as i,u as t,B as o,F as b,N as I,x as D,M as m,ab as V,ac as A,c as N,ad as M,i as q,r as F,e as H,ae as U,q as W,T as j,a8 as E}from"./vue-vendor-eR5EHmMR.js";import{u as G,a as K,b as O,c as P}from"../assets/index-vQ_rmdnp.js";import"./api-libs-Y_MbP9z_.js";import{u as k,l as z,s as J}from"./locale-vendor-1riwTzv-.js";import{D as Q,g as X,A as Y,M as Z,N as ee}from"./comp-vendor-4INyGxGu.js";const R=d=>(V("data-v-06fc8967"),d=d(),A(),d),ae=R(()=>s("div",{class:"logo"},"logo",-1)),se={class:"utils-wrap"},ne={class:"func-wrap"},oe={class:"func-btn change-language-btn"},te={class:"user-info-wrap"},ce={class:"user-info"},le={class:"name"},re={class:"email"},ue=R(()=>s("img",{alt:"avatar",src:"https://p1-arco.byteimg.com/tos-cn-i-uwbnlip3yd/3ee5f13fb09879ecb5185e440cef6eb9.png~tplv-uwbnlip3yd-webp.webp"},null,-1)),ie=v({__name:"LayoutHeader",setup(d){const{t:e}=k(),l=G(),r=C(),c=K(),_=O(c);function u(){console.log("logout"),l.logout().then(()=>{r.replace({name:"login"})})}function p(w){J(w)}return(w,y)=>{const L=Q,S=X,B=Y;return n(),g("header",null,[ae,s("div",se,[s("div",ne,[s("div",{class:"func-btn toggle-dark-btn",onClick:y[0]||(y[0]=()=>a(_)())},[a(c)?(n(),i(a(f),{key:0,name:"sun"})):(n(),i(a(f),{key:1,name:"moon"}))]),t(S,null,{content:o(()=>[(n(!0),g(b,null,I(a(z),$=>(n(),i(L,{onClick:be=>p($.language)},{default:o(()=>[D(m($.label),1)]),_:2},1032,["onClick"]))),256))]),default:o(()=>[s("div",oe,[t(a(f),{name:"language"})])]),_:1})]),s("div",te,[s("div",ce,[s("span",le,m(a(l).name),1),s("span",re,m(a(l).email),1)]),t(S,{class:"user-avatar"},{content:o(()=>[t(L,{onClick:u},{default:o(()=>[D(m(a(e)("layout.header.logout")),1)]),_:1})]),default:o(()=>[t(B,null,{default:o(()=>[ue]),_:1})]),_:1})])])])}}}),de=h(ie,[["__scopeId","data-v-06fc8967"]]),_e=v({__name:"LayoutAside",setup(d){const{t:e}=k(),l=C(),r=N(()=>l.getRoutes()),c=N(()=>{const _=new Set;return r.value.filter(u=>u.name&&!_.has(u.name)&&u.meta.label?(_.add(u.name),!0):!1)});return(_,u)=>(n(),g("aside",null,[(n(!0),g(b,null,I(c.value,p=>(n(),i(a(M),{key:p.path,class:"nav-item",to:{name:p.name}},{default:o(()=>[t(a(f),{name:p.meta.icon,class:"nav-icon mr-4"},null,8,["name"]),s("span",null,m(a(e)(p.meta.label)),1)]),_:2},1032,["to"]))),128))]))}}),pe=h(_e,[["__scopeId","data-v-8428fa0b"]]),me={class:"layout"},ge={class:"content-wrap"},fe={class:"page-wrap"},he={class:"page-content"},ve=v({__name:"index",setup(d){T({cacheTime:1e3*60*10,loadingDelay:0,loadingKeep:100,pollingWhenHidden:!0,pollingWhenOffline:!0,manual:!0});const e=q("emitter"),{t:l}=k(),r=F(!1);return e==null||e.on("fullScreenLoading:show",()=>{r.value=!0}),e==null||e.on("fullScreenLoading:hide",P(()=>{r.value=!1},500)),e==null||e.on("message:error",c=>{Z.error(l(c))}),e==null||e.on("message:noteGenerateSuccess",c=>{ee.success(l("generateNoteSuccess",{name:c.name}))}),H(()=>{e==null||e.all.clear()}),(c,_)=>(n(),g(b,null,[s("section",me,[t(de,{class:"header-bar"}),s("section",ge,[t(pe,{class:"aside-bar"}),s("main",fe,[s("div",he,[(n(),i(U,null,{fallback:o(()=>[t(a(x))]),default:o(()=>[t(a(E))]),_:1}))])])])]),(n(),i(j,{to:"body"},[r.value?(n(),i(a(x),{key:0,"blur-bg":!0})):W("",!0)]))],64))}}),De=h(ve,[["__scopeId","data-v-1d7e2431"]]);export{De as default};
