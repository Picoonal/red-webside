import{_ as F,a as P,L as Y}from"./comp-libs-qzLOwOZ7.js";import{t as q,i as ue,n as le,a as ce,b as B,c as Z,d as de,w as fe,u as ge,e as pe,r as me,f as he}from"./index.es-hgNGnXbL.js";import{r as T,w as J,c as C,Q as _e,g as ve,o as we,a4 as ye,y as be,a5 as Se,d as K,f as y,h as $,l as h,_ as m,p as I,u as L,B as k,F as Q,N as ee,x as G,M as V,a6 as ke,a7 as Le,a8 as Ne,a9 as Ce,i as De,aa as Ee,e as Me,ab as Ae,q as Ie,T as Te,a1 as Oe}from"./vue-vendor-RO-sxRw_.js";import"./api-libs-BNhwcwzX.js";import{u as U,l as xe,a as te}from"./locale-vendor-bbW5XbFs.js";import{D as Ve,f as $e,A as ze,M as We,N as je}from"./comp-vendor-uyqe4vcM.js";function ne(e){var a;const t=B(e);return(a=t==null?void 0:t.$el)!=null?a:t}const E=ue?window:void 0;function H(...e){let a,t,r,n;if(typeof e[0]=="string"||Array.isArray(e[0])?([t,r,n]=e,a=E):[a,t,r,n]=e,!a)return le;Array.isArray(t)||(t=[t]),Array.isArray(r)||(r=[r]);const l=[],i=()=>{l.forEach(g=>g()),l.length=0},s=(g,c,_,v)=>(g.addEventListener(c,_,v),()=>g.removeEventListener(c,_,v)),u=J(()=>[ne(a),B(n)],([g,c])=>{if(i(),!g)return;const _=ce(c)?{...c}:c;l.push(...t.flatMap(v=>r.map(b=>s(g,v,b,_))))},{immediate:!0,flush:"post"}),d=()=>{u(),i()};return Z(d),d}function Re(){const e=T(!1);return ve()&&we(()=>{e.value=!0}),e}function ae(e){const a=Re();return C(()=>(a.value,!!e()))}function se(e,a={}){const{window:t=E}=a,r=ae(()=>t&&"matchMedia"in t&&typeof t.matchMedia=="function");let n;const l=T(!1),i=d=>{l.value=d.matches},s=()=>{n&&("removeEventListener"in n?n.removeEventListener("change",i):n.removeListener(i))},u=_e(()=>{r.value&&(s(),n=t.matchMedia(B(e)),"addEventListener"in n?n.addEventListener("change",i):n.addListener(i),l.value=n.matches)});return Z(()=>{u(),s(),n=void 0}),l}const j=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},R="__vueuse_ssr_handlers__",Fe=He();function He(){return R in j||(j[R]=j[R]||{}),j[R]}function oe(e,a){return Fe[e]||a}function Be(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const Je={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},X="vueuse-storage";function Pe(e,a,t,r={}){var n;const{flush:l="pre",deep:i=!0,listenToStorageChanges:s=!0,writeDefaults:u=!0,mergeDefaults:d=!1,shallow:g,window:c=E,eventFilter:_,onError:v=o=>{console.error(o)},initOnMounted:b}=r,w=(g?ye:T)(typeof a=="function"?a():a);if(!t)try{t=oe("getDefaultStorage",()=>{var o;return(o=E)==null?void 0:o.localStorage})()}catch(o){v(o)}if(!t)return w;const N=B(a),x=Be(N),D=(n=r.serializer)!=null?n:Je[x],{pause:z,resume:p}=fe(w,()=>M(w.value),{flush:l,deep:i,eventFilter:_});return c&&s&&q(()=>{H(c,"storage",S),H(c,X,O),b&&S()}),b||S(),w;function M(o){try{if(o==null)t.removeItem(e);else{const f=D.write(o),A=t.getItem(e);A!==f&&(t.setItem(e,f),c&&c.dispatchEvent(new CustomEvent(X,{detail:{key:e,oldValue:A,newValue:f,storageArea:t}})))}}catch(f){v(f)}}function W(o){const f=o?o.newValue:t.getItem(e);if(f==null)return u&&N!=null&&t.setItem(e,D.write(N)),N;if(!o&&d){const A=D.read(f);return typeof d=="function"?d(A,N):x==="object"&&!Array.isArray(A)?{...N,...A}:A}else return typeof f!="string"?f:D.read(f)}function O(o){S(o.detail)}function S(o){if(!(o&&o.storageArea!==t)){if(o&&o.key==null){w.value=N;return}if(!(o&&o.key!==e)){z();try{(o==null?void 0:o.newValue)!==D.write(w.value)&&(w.value=W(o))}catch(f){v(f)}finally{o?be(p):p()}}}}}function re(e){return se("(prefers-color-scheme: dark)",e)}function qe(e={}){const{selector:a="html",attribute:t="class",initialValue:r="auto",window:n=E,storage:l,storageKey:i="vueuse-color-scheme",listenToStorageChanges:s=!0,storageRef:u,emitAuto:d,disableTransition:g=!0}=e,c={auto:"",light:"light",dark:"dark",...e.modes||{}},_=re({window:n}),v=C(()=>_.value?"dark":"light"),b=u||(i==null?de(r):Pe(i,r,l,{window:n,listenToStorageChanges:s})),w=C(()=>b.value==="auto"?v.value:b.value),N=oe("updateHTMLAttrs",(p,M,W)=>{const O=typeof p=="string"?n==null?void 0:n.document.querySelector(p):ne(p);if(!O)return;let S;if(g){S=n.document.createElement("style");const o="*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";S.appendChild(document.createTextNode(o)),n.document.head.appendChild(S)}if(M==="class"){const o=W.split(/\s/g);Object.values(c).flatMap(f=>(f||"").split(/\s/g)).filter(Boolean).forEach(f=>{o.includes(f)?O.classList.add(f):O.classList.remove(f)})}else O.setAttribute(M,W);g&&(n.getComputedStyle(S).opacity,document.head.removeChild(S))});function x(p){var M;N(a,t,(M=c[p])!=null?M:p)}function D(p){e.onChanged?e.onChanged(p,x):x(p)}J(w,D,{flush:"post",immediate:!0}),q(()=>D(w.value));const z=C({get(){return d?b.value:w.value},set(p){b.value=p}});try{return Object.assign(z,{store:b,system:v,state:w})}catch(p){return z}}function Ke(e={}){const{valueDark:a="dark",valueLight:t="",window:r=E}=e,n=qe({...e,onChanged:(s,u)=>{var d;e.onChanged?(d=e.onChanged)==null||d.call(e,s==="dark",u,s):u(s)},modes:{dark:a,light:t}}),l=C(()=>n.system?n.system.value:re({window:r}).value?"dark":"light");return C({get(){return n.value==="dark"},set(s){const u=s?"dark":"light";l.value===u?n.value="auto":n.value=u}})}function Qe(e={}){const{window:a=E}=e,t=a==null?void 0:a.navigator,r=ae(()=>t&&"language"in t),n=T(t==null?void 0:t.language);return H(a,"languagechange",()=>{t&&(n.value=t.language)}),{isSupported:r,language:n}}function Ue(e={}){const{window:a=E,initialWidth:t=Number.POSITIVE_INFINITY,initialHeight:r=Number.POSITIVE_INFINITY,listenOrientation:n=!0,includeScrollbar:l=!0}=e,i=T(t),s=T(r),u=()=>{a&&(l?(i.value=a.innerWidth,s.value=a.innerHeight):(i.value=a.document.documentElement.clientWidth,s.value=a.document.documentElement.clientHeight))};if(u(),q(u),H("resize",u,{passive:!0}),n){const d=se("(orientation: portrait)");J(d,()=>u())}return{width:i,height:s}}const Ye=Se("userInfo",{state(){return{name:"Daojiang",email:"daojiang2ciyuan@gmail.com"}},getters:{},actions:{}}),ie=e=>(ke("data-v-bd12ab8d"),e=e(),Le(),e),Ge=ie(()=>h("div",{class:"logo"},"logo",-1)),Xe={class:"utils-wrap"},Ze={class:"func-wrap"},et={class:"func-btn change-language-btn"},tt={class:"user-info-wrap"},nt={class:"user-info"},at={class:"name"},st={class:"email"},ot=ie(()=>h("img",{alt:"avatar",src:"https://p1-arco.byteimg.com/tos-cn-i-uwbnlip3yd/3ee5f13fb09879ecb5185e440cef6eb9.png~tplv-uwbnlip3yd-webp.webp"},null,-1)),rt=K({__name:"LayoutHeader",setup(e){const{t:a}=U(),t=Ye(),r=Ke(),n=ge(r);function l(){console.log("logout")}function i(s){te(s)}return(s,u)=>{const d=Ve,g=$e,c=ze;return y(),$("header",null,[Ge,h("div",Xe,[h("div",Ze,[h("div",{class:"func-btn toggle-dark-btn",onClick:u[0]||(u[0]=()=>m(n)())},[m(r)?(y(),I(m(F),{key:0,name:"sun"})):(y(),I(m(F),{key:1,name:"moon"}))]),L(g,null,{content:k(()=>[(y(!0),$(Q,null,ee(m(xe),_=>(y(),I(d,{onClick:v=>i(_.language)},{default:k(()=>[G(V(_.label),1)]),_:2},1032,["onClick"]))),256))]),default:k(()=>[h("div",et,[L(m(F),{name:"language"})])]),_:1})]),h("div",tt,[h("div",nt,[h("span",at,V(m(t).name),1),h("span",st,V(m(t).email),1)]),L(g,{class:"user-avatar"},{content:k(()=>[L(d,{onClick:l},{default:k(()=>[G(V(m(a)("layout.header.logout")),1)]),_:1})]),default:k(()=>[L(c,null,{default:k(()=>[ot]),_:1})]),_:1})])])])}}}),it=P(rt,[["__scopeId","data-v-bd12ab8d"]]),ut=K({__name:"LayoutAside",setup(e){const{t:a}=U(),t=Ne(),r=C(()=>t.getRoutes()),n=C(()=>{const l=new Set;return r.value.filter(i=>i.name&&!l.has(i.name)?(l.add(i.name),!0):!1)});return(l,i)=>(y(),$("aside",null,[(y(!0),$(Q,null,ee(n.value,s=>(y(),I(m(Ce),{key:s.path,class:"nav-item",to:{name:s.name}},{default:k(()=>[L(m(F),{name:s.meta.icon,class:"nav-icon mr-4"},null,8,["name"]),h("span",null,V(m(a)(s.meta.label)),1)]),_:2},1032,["to"]))),128))]))}}),lt=P(ut,[["__scopeId","data-v-03552f94"]]),ct={class:"layout"},dt={class:"content-wrap"},ft={class:"page-wrap"},gt={class:"page-content"},pt=K({__name:"index",setup(e){var g;pe({cacheTime:1e3*60*10,loadingDelay:0,loadingKeep:100,pollingWhenHidden:!0,pollingWhenOffline:!0,manual:!0});const{language:a}=Qe();te(((g=a.value)==null?void 0:g.split("-")[0])||"");const t=De("emitter"),{t:r}=U(),{width:n}=Ue(),l=me(n),i=document.documentElement,s=C(()=>Math.max(l.value/1920*10,7)),u=T(!1);t==null||t.on("fullScreenLoading:show",()=>{u.value=!0}),t==null||t.on("fullScreenLoading:hide",he(()=>{u.value=!1},500)),t==null||t.on("message:error",c=>{We.error(r(c))}),t==null||t.on("message:noteGenerateSuccess",c=>{je.success(r("generateNoteSuccess",{name:c.name}))});const d=J(l,()=>{i.style.fontSize="".concat(s.value,"px")});return Ee(()=>{i.style.fontSize="".concat(s.value,"px"),window.postMessage("hideFirstLoading")}),Me(()=>{d(),t==null||t.all.clear()}),(c,_)=>(y(),$(Q,null,[h("section",ct,[L(it,{class:"header-bar"}),h("section",dt,[L(lt,{class:"aside-bar"}),h("main",ft,[h("div",gt,[(y(),I(Ae,null,{fallback:k(()=>[L(m(Y))]),default:k(()=>[L(m(Oe))]),_:1}))])])])]),(y(),I(Te,{to:"body"},[u.value?(y(),I(m(Y),{key:0,"blur-bg":!0})):Ie("",!0)]))],64))}}),bt=P(pt,[["__scopeId","data-v-b37b0427"]]);export{bt as default};
