import{_ as f,a as h,L as B}from"./comp-libs-JCqQq8sh.js";import{u as A}from"./index.es-RSAZJdtD.js";import{d as v,a7 as D,f as n,h as g,l as a,$ as e,p as m,u as o,B as t,F as I,N,x,M as p,ab as M,ac as V,c as L,ad as H,i as T,e as q,ae as F,a8 as U}from"./vue-vendor-eR5EHmMR.js";import{u as W,a as j,b as E}from"../assets/index-axPTNcD5.js";import"./api-libs-Y_MbP9z_.js";import{u as b,l as G,s as K}from"./locale-vendor-85zrdMqj.js";import{D as O,g as P,A as z,M as J,N as Q}from"./comp-vendor-MLbRUMP8.js";const C=u=>(M("data-v-06fc8967"),u=u(),V(),u),X=C(()=>a("div",{class:"logo"},"logo",-1)),Y={class:"utils-wrap"},Z={class:"func-wrap"},ee={class:"func-btn change-language-btn"},ae={class:"user-info-wrap"},se={class:"user-info"},te={class:"name"},ne={class:"email"},oe=C(()=>a("img",{alt:"avatar",src:"https://p1-arco.byteimg.com/tos-cn-i-uwbnlip3yd/3ee5f13fb09879ecb5185e440cef6eb9.png~tplv-uwbnlip3yd-webp.webp"},null,-1)),ce=v({__name:"LayoutHeader",setup(u){const{t:s}=b(),c=W(),l=D(),_=j(),d=E(_);function r(){console.log("logout"),c.logout().then(()=>{l.replace({name:"login"})})}function i(k){K(k)}return(k,w)=>{const y=O,$=P,R=z;return n(),g("header",null,[X,a("div",Y,[a("div",Z,[a("div",{class:"func-btn toggle-dark-btn",onClick:w[0]||(w[0]=()=>e(d)())},[e(_)?(n(),m(e(f),{key:0,name:"sun"})):(n(),m(e(f),{key:1,name:"moon"}))]),o($,null,{content:t(()=>[(n(!0),g(I,null,N(e(G),S=>(n(),m(y,{onClick:ge=>i(S.language)},{default:t(()=>[x(p(S.label),1)]),_:2},1032,["onClick"]))),256))]),default:t(()=>[a("div",ee,[o(e(f),{name:"language"})])]),_:1})]),a("div",ae,[a("div",se,[a("span",te,p(e(c).name),1),a("span",ne,p(e(c).email),1)]),o($,{class:"user-avatar"},{content:t(()=>[o(y,{onClick:r},{default:t(()=>[x(p(e(s)("layout.header.logout")),1)]),_:1})]),default:t(()=>[o(R,null,{default:t(()=>[oe]),_:1})]),_:1})])])])}}}),le=h(ce,[["__scopeId","data-v-06fc8967"]]),re=v({__name:"LayoutAside",setup(u){const{t:s}=b(),c=D(),l=L(()=>c.getRoutes()),_=L(()=>{const d=new Set;return l.value.filter(r=>r.name&&!d.has(r.name)&&r.meta.label?(d.add(r.name),!0):!1)});return(d,r)=>(n(),g("aside",null,[(n(!0),g(I,null,N(_.value,i=>(n(),m(e(H),{key:i.path,class:"nav-item",to:{name:i.name}},{default:t(()=>[o(e(f),{name:i.meta.icon,class:"nav-icon mr-4"},null,8,["name"]),a("span",null,p(e(s)(i.meta.label)),1)]),_:2},1032,["to"]))),128))]))}}),ue=h(re,[["__scopeId","data-v-8428fa0b"]]),ie={class:"layout"},_e={class:"content-wrap"},de={class:"page-wrap"},pe={class:"page-content"},me=v({__name:"index",setup(u){A({cacheTime:1e3*60*10,loadingDelay:0,loadingKeep:100,pollingWhenHidden:!0,pollingWhenOffline:!0,manual:!0});const s=T("emitter"),{t:c}=b();return s==null||s.on("message:error",l=>{J.error(c(l))}),s==null||s.on("message:noteGenerateSuccess",l=>{Q.success(c("generateNoteSuccess",{name:l.name}))}),q(()=>{s==null||s.all.clear()}),(l,_)=>(n(),g("section",ie,[o(le,{class:"header-bar"}),a("section",_e,[o(ue,{class:"aside-bar"}),a("main",de,[a("div",pe,[(n(),m(F,null,{fallback:t(()=>[o(e(B))]),default:t(()=>[o(e(U))]),_:1}))])])])]))}}),$e=h(me,[["__scopeId","data-v-864cb4ce"]]);export{$e as default};
