import{a0 as Ve,a1 as je,a2 as He,r as C,w as M,o as re,y as ae,Z as ve,a3 as We,a4 as $e,$ as ne,t as Ge,G as he,a5 as Ze,g as pe,c as T,Q as J,a6 as G,z as ze,i as ge,e as V,a7 as we,d as ye,X as Qe,a8 as Ke,h as Ue,u as de,B as Je,p as fe,q as Ye,T as Xe,F as qe,f as Y,a9 as et,aa as tt}from"../chunks/vue-vendor-Ewu5EBAq.js";import{_ as B,u as nt,s as ot,a as rt}from"../chunks/locale-vendor-npigJYsg.js";import{c as at,l as it,a as st,r as lt,g as ut,e as be}from"../chunks/api-libs-1XXty04u.js";import{L as ct}from"../chunks/comp-libs-hM04ODlz.js";import{M as dt,N as ft,f as mt}from"../chunks/comp-vendor-oDlW8gRb.js";function dn(){import.meta.url,import("_").catch(()=>1),async function*(){}().next()}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=t(o);fetch(o.href,i)}})();if(typeof window<"u"){let e=function(){var n=document.body,t=document.getElementById("__svg__icons__dom__");t||(t=document.createElementNS("http://www.w3.org/2000/svg","svg"),t.style.position="absolute",t.style.width="0",t.style.height="0",t.id="__svg__icons__dom__",t.setAttribute("xmlns","http://www.w3.org/2000/svg"),t.setAttribute("xmlns:link","http://www.w3.org/1999/xlink")),t.innerHTML='<symbol  fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6" id="icon-aside-commodity"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6A2.25 2.25 0 0 1 6 3.75h2.25A2.25 2.25 0 0 1 10.5 6v2.25a2.25 2.25 0 0 1-2.25 2.25H6a2.25 2.25 0 0 1-2.25-2.25V6Zm0 9.75A2.25 2.25 0 0 1 6 13.5h2.25a2.25 2.25 0 0 1 2.25 2.25V18a2.25 2.25 0 0 1-2.25 2.25H6A2.25 2.25 0 0 1 3.75 18v-2.25ZM13.5 6a2.25 2.25 0 0 1 2.25-2.25H18A2.25 2.25 0 0 1 20.25 6v2.25A2.25 2.25 0 0 1 18 10.5h-2.25a2.25 2.25 0 0 1-2.25-2.25V6Zm0 9.75a2.25 2.25 0 0 1 2.25-2.25H18a2.25 2.25 0 0 1 2.25 2.25V18A2.25 2.25 0 0 1 18 20.25h-2.25A2.25 2.25 0 0 1 13.5 18v-2.25Z" /></symbol><symbol  fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6" id="icon-aside-home"><path stroke-linecap="round" stroke-linejoin="round" d="m2.25 12 8.954-8.955a1.126 1.126 0 0 1 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25" /></symbol><symbol  fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6" id="icon-aside-notes"><path stroke-linecap="round" stroke-linejoin="round" d="M12 7.5h1.5m-1.5 3h1.5m-7.5 3h7.5m-7.5 3h7.5m3-9h3.375c.621 0 1.125.504 1.125 1.125V18a2.25 2.25 0 0 1-2.25 2.25M16.5 7.5V18a2.25 2.25 0 0 0 2.25 2.25M16.5 7.5V4.875c0-.621-.504-1.125-1.125-1.125H4.125C3.504 3.75 3 4.254 3 4.875V18a2.25 2.25 0 0 0 2.25 2.25h13.5M6 7.5h3v3H6v-3Z" /></symbol><symbol  fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6" id="icon-bell"><path stroke-linecap="round" stroke-linejoin="round" d="M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0" /></symbol><symbol  fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6" id="icon-chevron-left"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 19.5 8.25 12l7.5-7.5" /></symbol><symbol  fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6" id="icon-chevron-right"><path stroke-linecap="round" stroke-linejoin="round" d="m8.25 4.5 7.5 7.5-7.5 7.5" /></symbol><symbol  fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6" id="icon-close"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18 18 6M6 6l12 12" /></symbol><symbol  fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6" id="icon-filter"><path stroke-linecap="round" stroke-linejoin="round" d="M10.5 6h9.75M10.5 6a1.5 1.5 0 1 1-3 0m3 0a1.5 1.5 0 1 0-3 0M3.75 6H7.5m3 12h9.75m-9.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-3.75 0H7.5m9-6h3.75m-3.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-9.75 0h9.75" /></symbol><symbol  fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6" id="icon-language"><path stroke-linecap="round" stroke-linejoin="round" d="m10.5 21 5.25-11.25L21 21m-9-3h7.5M3 5.621a48.474 48.474 0 0 1 6-.371m0 0c1.12 0 2.233.038 3.334.114M9 5.25V3m3.334 2.364C11.176 10.658 7.69 15.08 3 17.502m9.334-12.138A47.63 47.63 0 0 1 15 5.621m-4.589 8.495a18.023 18.023 0 0 1-3.827-5.802" /></symbol><symbol  fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6" id="icon-moon"><path stroke-linecap="round" stroke-linejoin="round" d="M21.752 15.002A9.72 9.72 0 0 1 18 15.75 9.75 9.75 0 0 1 8.25 6c0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25 9.75 9.75 0 0 0 12.75 21a9.753 9.753 0 0 0 9.002-5.998Z" /></symbol><symbol  fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6" id="icon-plus"><path stroke-linecap="round" stroke-linejoin="round" d="M12 4.5v15m7.5-7.5h-15" /></symbol><symbol  fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6" id="icon-search"><path stroke-linecap="round" stroke-linejoin="round" d="m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z" /></symbol><symbol  fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6" id="icon-setting"><path stroke-linecap="round" stroke-linejoin="round" d="M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z" /><path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" /></symbol><symbol  fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6" id="icon-sun"><path stroke-linecap="round" stroke-linejoin="round" d="M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z" /></symbol><symbol  aria-hidden="true" class="iconify iconify--logos" viewBox="0 0 256 257" id="icon-vite"><defs><linearGradient id="icon-vite_a" x1="-.828%" x2="57.636%" y1="7.652%" y2="78.411%"><stop offset="0%" stop-color="#41D1FF" /><stop offset="100%" stop-color="#BD34FE" /></linearGradient><linearGradient id="icon-vite_b" x1="43.376%" x2="50.316%" y1="2.242%" y2="89.03%"><stop offset="0%" stop-color="#FFEA83" /><stop offset="8.333%" stop-color="#FFDD35" /><stop offset="100%" stop-color="#FFA800" /></linearGradient></defs><path fill="url(#icon-vite_a)" d="M255.153 37.938 134.897 252.976c-2.483 4.44-8.862 4.466-11.382.048L.875 37.958c-2.746-4.814 1.371-10.646 6.827-9.67l120.385 21.517a6.537 6.537 0 0 0 2.322-.004l117.867-21.483c5.438-.991 9.574 4.796 6.877 9.62Z" /><path fill="url(#icon-vite_b)" d="M185.432.063 96.44 17.501a3.268 3.268 0 0 0-2.634 3.014l-5.474 92.456a3.268 3.268 0 0 0 3.997 3.378l24.777-5.718c2.318-.535 4.413 1.507 3.936 3.838l-7.361 36.047c-.495 2.426 1.782 4.5 4.151 3.78l15.304-4.649c2.372-.72 4.652 1.36 4.15 3.788l-11.698 56.621c-.732 3.542 3.979 5.473 5.943 2.437l1.313-2.028 72.516-144.72c1.215-2.423-.88-5.186-3.54-4.672l-25.505 4.922c-2.396.462-4.435-1.77-3.759-4.114l16.646-57.705c.677-2.35-1.37-4.583-3.769-4.113Z" /></symbol><symbol  aria-hidden="true" class="iconify iconify--logos" viewBox="0 0 256 198" id="icon-vue"><path fill="#41B883" d="M204.8 0H256L128 220.8 0 0h97.92L128 51.2 157.44 0h47.36Z" /><path fill="#41B883" d="m0 0 128 220.8L256 0h-51.2L128 132.48 50.56 0H0Z" /><path fill="#35495E" d="M50.56 0 128 133.12 204.8 0h-47.36L128 51.2 97.92 0H50.56Z" /></symbol>',n.insertBefore(t,n.lastChild)};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",e):e()}const _e=Ve("userInfo",{state(){return{isLogin:!1,name:"Daojiang",email:"daojiang2ciyuan@gmail.com"}},getters:{},actions:{async checkLogin(){return at().then(e=>(this.setUserInfo(e.data),!0))},setUserInfo(e){this.isLogin=!0,this.name=e.name,this.email=e.email},async login(e){return it(e).then(n=>{const t=n.data;this.setUserInfo(t)})},async logout(){return st().then(()=>{this.isLogin=!1,this.name="",this.email=""})},async register(e){return lt(e).then(n=>{this.setUserInfo(n.data)})}}}),vt=[{path:"/",name:"root",component:()=>B(()=>import("../chunks/index-wFtZqsDy.js"),__vite__mapDeps([0,1,2,3,4,5,6,7])),children:[{path:"",name:"home",meta:{label:"layout.aside.home",icon:"aside-home"},component:()=>B(()=>import("../chunks/home-kVCfsq3m.js"),__vite__mapDeps([8,1,4,2,3,5,6,9])),alias:["home"]},{path:"commodity",name:"commodity",meta:{label:"layout.aside.commodity",icon:"aside-commodity"},component:()=>B(()=>import("../chunks/commodity-Q514UlTR.js"),__vite__mapDeps([10,2,3,4,1,5,6,11,12,13]))},{path:"notes",name:"notes",meta:{label:"layout.aside.notes",icon:"aside-notes"},component:()=>B(()=>import("../chunks/notes-RwDJvGjd.js"),__vite__mapDeps([14,2,3,4,1,5,6,11,12,15]))},{path:"/:p*",name:"notFound",component:()=>B(()=>import("../chunks/notFound-vJIAvL6y.js"),__vite__mapDeps([16,1,2,3,4,5,6,17]))}]},{path:"/auth",name:"auth",component:()=>B(()=>import("../chunks/auth-xmxMUMbJ.js"),__vite__mapDeps([18,2,3,4,1,5,6,19]))}],Ee=je({history:He(),routes:vt}),ht=["auth"];Ee.beforeEach((()=>{let e;return(n,t,r)=>{if(e!=null||(e=_e()),ht.includes(n.name))return r();if(!e.isLogin)return r({name:"auth"});r()}})());function Se(e){return We()?($e(e),!0):!1}function N(e){return typeof e=="function"?e():ne(e)}const pt=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const gt=Object.prototype.toString,wt=e=>gt.call(e)==="[object Object]",Q=()=>{};function Ce(e,n){function t(...r){return new Promise((o,i)=>{Promise.resolve(e(()=>n.apply(this,r),{fn:n,thisArg:this,args:r})).then(o).catch(i)})}return t}const Le=e=>e();function yt(e,n={}){let t,r,o=Q;const i=a=>{clearTimeout(a),o(),o=Q};return a=>{const s=N(e),u=N(n.maxWait);return t&&i(t),s<=0||u!==void 0&&u<=0?(r&&(i(r),r=null),Promise.resolve(a())):new Promise((c,f)=>{o=n.rejectOnCancel?f:c,u&&!r&&(r=setTimeout(()=>{t&&i(t),r=null,c(a())},u)),t=setTimeout(()=>{r&&i(r),r=null,c(a())},s)})}}function bt(e=Le){const n=C(!0);function t(){n.value=!1}function r(){n.value=!0}const o=(...i)=>{n.value&&e(...i)};return{isActive:he(n),pause:t,resume:r,eventFilter:o}}function _t(e){return e||pe()}function Et(...e){if(e.length!==1)return Ge(...e);const n=e[0];return typeof n=="function"?he(Ze(()=>({get:n,set:Q}))):C(n)}function Te(e,n=200,t={}){return Ce(yt(n,t),e)}function St(e,n=200,t={}){const r=C(e.value),o=Te(()=>{r.value=e.value},n,t);return M(e,()=>o()),r}function Ct(e,n,t={}){const{eventFilter:r=Le,...o}=t;return M(e,Ce(r,n),o)}function Lt(e,n,t={}){const{eventFilter:r,...o}=t,{eventFilter:i,pause:l,resume:a,isActive:s}=bt(r);return{stop:Ct(e,n,{...o,eventFilter:i}),pause:l,resume:a,isActive:s}}function ie(e,n=!0,t){const r=_t(t);r?re(e,r):n?e():ae(e)}function gn(e=!1,n={}){const{truthyValue:t=!0,falsyValue:r=!1}=n,o=ve(e),i=C(e);function l(a){if(arguments.length)return i.value=a,i.value;{const s=N(t);return i.value=i.value===s?N(r):s,i.value}}return o?l:[i,l]}function Ae(e){var n;const t=N(e);return(n=t==null?void 0:t.$el)!=null?n:t}const P=pt?window:void 0;function K(...e){let n,t,r,o;if(typeof e[0]=="string"||Array.isArray(e[0])?([t,r,o]=e,n=P):[n,t,r,o]=e,!n)return Q;Array.isArray(t)||(t=[t]),Array.isArray(r)||(r=[r]);const i=[],l=()=>{i.forEach(c=>c()),i.length=0},a=(c,f,p,m)=>(c.addEventListener(f,p,m),()=>c.removeEventListener(f,p,m)),s=M(()=>[Ae(n),N(o)],([c,f])=>{if(l(),!c)return;const p=wt(f)?{...f}:f;i.push(...t.flatMap(m=>r.map(w=>a(c,m,w,p))))},{immediate:!0,flush:"post"}),u=()=>{s(),l()};return Se(u),u}function Tt(){const e=C(!1);return pe()&&re(()=>{e.value=!0}),e}function Re(e){const n=Tt();return T(()=>(n.value,!!e()))}function Oe(e,n={}){const{window:t=P}=n,r=Re(()=>t&&"matchMedia"in t&&typeof t.matchMedia=="function");let o;const i=C(!1),l=u=>{i.value=u.matches},a=()=>{o&&("removeEventListener"in o?o.removeEventListener("change",l):o.removeListener(l))},s=J(()=>{r.value&&(a(),o=t.matchMedia(N(e)),"addEventListener"in o?o.addEventListener("change",l):o.addListener(l),i.value=o.matches)});return Se(()=>{s(),a(),o=void 0}),i}const W=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},$="__vueuse_ssr_handlers__",At=Rt();function Rt(){return $ in W||(W[$]=W[$]||{}),W[$]}function ke(e,n){return At[e]||n}function Ot(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const kt={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},me="vueuse-storage";function xe(e,n,t,r={}){var o;const{flush:i="pre",deep:l=!0,listenToStorageChanges:a=!0,writeDefaults:s=!0,mergeDefaults:u=!1,shallow:c,window:f=P,eventFilter:p,onError:m=h=>{console.error(h)},initOnMounted:w}=r,v=(c?G:C)(typeof n=="function"?n():n);if(!t)try{t=ke("getDefaultStorage",()=>{var h;return(h=P)==null?void 0:h.localStorage})()}catch(h){m(h)}if(!t)return v;const _=N(n),y=Ot(_),b=(o=r.serializer)!=null?o:kt[y],{pause:E,resume:g}=Lt(v,()=>S(v.value),{flush:i,deep:l,eventFilter:p});return f&&a&&ie(()=>{K(f,"storage",O),K(f,me,R),w&&O()}),w||O(),v;function S(h){try{if(h==null)t.removeItem(e);else{const d=b.write(h),L=t.getItem(e);L!==d&&(t.setItem(e,d),f&&f.dispatchEvent(new CustomEvent(me,{detail:{key:e,oldValue:L,newValue:d,storageArea:t}})))}}catch(d){m(d)}}function A(h){const d=h?h.newValue:t.getItem(e);if(d==null)return s&&_!=null&&t.setItem(e,b.write(_)),_;if(!h&&u){const L=b.read(d);return typeof u=="function"?u(L,_):y==="object"&&!Array.isArray(L)?{..._,...L}:L}else return typeof d!="string"?d:b.read(d)}function R(h){O(h.detail)}function O(h){if(!(h&&h.storageArea!==t)){if(h&&h.key==null){v.value=_;return}if(!(h&&h.key!==e)){E();try{(h==null?void 0:h.newValue)!==b.write(v.value)&&(v.value=A(h))}catch(d){m(d)}finally{h?ae(g):g()}}}}}function Me(e){return Oe("(prefers-color-scheme: dark)",e)}function xt(e={}){const{selector:n="html",attribute:t="class",initialValue:r="auto",window:o=P,storage:i,storageKey:l="vueuse-color-scheme",listenToStorageChanges:a=!0,storageRef:s,emitAuto:u,disableTransition:c=!0}=e,f={auto:"",light:"light",dark:"dark",...e.modes||{}},p=Me({window:o}),m=T(()=>p.value?"dark":"light"),w=s||(l==null?Et(r):xe(l,r,i,{window:o,listenToStorageChanges:a})),v=T(()=>w.value==="auto"?m.value:w.value),_=ke("updateHTMLAttrs",(g,S,A)=>{const R=typeof g=="string"?o==null?void 0:o.document.querySelector(g):Ae(g);if(!R)return;let O;if(c){O=o.document.createElement("style");const h="*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";O.appendChild(document.createTextNode(h)),o.document.head.appendChild(O)}if(S==="class"){const h=A.split(/\s/g);Object.values(f).flatMap(d=>(d||"").split(/\s/g)).filter(Boolean).forEach(d=>{h.includes(d)?R.classList.add(d):R.classList.remove(d)})}else R.setAttribute(S,A);c&&(o.getComputedStyle(O).opacity,document.head.removeChild(O))});function y(g){var S;_(n,t,(S=f[g])!=null?S:g)}function b(g){e.onChanged?e.onChanged(g,y):y(g)}M(v,b,{flush:"post",immediate:!0}),ie(()=>b(v.value));const E=T({get(){return u?w.value:v.value},set(g){w.value=g}});try{return Object.assign(E,{store:w,system:m,state:v})}catch(g){return E}}function wn(e={}){const{valueDark:n="dark",valueLight:t="",window:r=P}=e,o=xt({...e,onChanged:(a,s)=>{var u;e.onChanged?(u=e.onChanged)==null||u.call(e,a==="dark",s,a):s(a)},modes:{dark:n,light:t}}),i=T(()=>o.system?o.system.value:Me({window:r}).value?"dark":"light");return T({get(){return o.value==="dark"},set(a){const s=a?"dark":"light";i.value===s?o.value="auto":o.value=s}})}function Mt(e,n,t={}){const{window:r=P}=t;return xe(e,n,r==null?void 0:r.localStorage,t)}function Pt(e={}){const{window:n=P}=e,t=n==null?void 0:n.navigator,r=Re(()=>t&&"language"in t),o=C(t==null?void 0:t.language);return K(n,"languagechange",()=>{t&&(o.value=t.language)}),{isSupported:r,language:o}}function It(e={}){const{window:n=P,initialWidth:t=Number.POSITIVE_INFINITY,initialHeight:r=Number.POSITIVE_INFINITY,listenOrientation:o=!0,includeScrollbar:i=!0}=e,l=C(t),a=C(r),s=()=>{n&&(i?(l.value=n.innerWidth,a.value=n.innerHeight):(l.value=n.document.documentElement.clientWidth,a.value=n.document.documentElement.clientHeight))};if(s(),ie(s),K("resize",s,{passive:!0}),o){const u=Oe("(orientation: portrait)");M(u,()=>s())}return{width:l,height:a}}const Nt={},Pe=Symbol("GLOBAL_OPTIONS_PROVIDE_KEY"),Dt=()=>Nt,I=e=>e,oe=e=>Array.isArray(e),se=e=>e!==null&&typeof e=="object",le=e=>e instanceof Function,j=e=>e==null,ue=typeof window>"u",Ie=()=>{var e;return ue||j((e=window.document)===null||e===void 0?void 0:e.visibilityState)?!0:window.document.visibilityState==="visible"},Ft=()=>{var e,n;return(e=!ue&&((n=window.navigator)===null||n===void 0?void 0:n.onLine))!==null&&e!==void 0?e:!0},X=()=>new Promise(()=>{}),x=e=>ve(e)?e.value:e,Bt=e=>se(e)?Object.assign(oe(e)?[]:{},e):e,Z=new Map,Vt=e=>j(e)?void 0:Z.get(e),jt=(e,n,t)=>{const r=Z.get(e);r!=null&&r.timer&&clearTimeout(r.timer);const o=setTimeout(()=>Z.delete(e),n);Z.set(e,{...t,timer:o})};function Ne(e,n,t){let r,o,i,l,a,s,u=0,c=!1,f=!1,p=!0;const m=!n&&n!==0&&typeof window.requestAnimationFrame=="function";if(typeof e!="function")throw new TypeError("Expected a function");n=+n||0,se(t)&&(c=!!t.leading,f="maxWait"in t,i=f?Math.max(+t.maxWait||0,n):i,p="trailing"in t?!!t.trailing:p);function w(d){const L=r,k=o;return r=o=void 0,u=d,l=e.apply(k,L),l}function v(d,L){return m?(window.cancelAnimationFrame(a),window.requestAnimationFrame(d)):setTimeout(d,L)}function _(d){if(m)return window.cancelAnimationFrame(d);clearTimeout(d)}function y(d){return u=d,a=v(g,n),c?w(d):l}function b(d){const L=d-s,k=d-u,D=n-L;return f?Math.min(D,i-k):D}function E(d){const L=d-s,k=d-u;return s===void 0||L>=n||L<0||f&&k>=i}function g(){const d=Date.now();if(E(d))return S(d);a=v(g,b(d))}function S(d){return a=void 0,p&&r?w(d):(r=o=void 0,l)}function A(){a!==void 0&&_(a),u=0,r=s=o=a=void 0}function R(){return a===void 0?l:S(Date.now())}function O(){return a!==void 0}function h(){const d=Date.now(),L=E(d);for(var k=arguments.length,D=new Array(k),H=0;H<k;H++)D[H]=arguments[H];if(r=D,o=this,s=d,L){if(a===void 0)return y(s);if(f)return a=v(g,n),w(s)}return a===void 0&&(a=v(g,n)),l}return h.cancel=A,h.flush=R,h.pending=O,h}function Ht(e,n,t){let r=!0,o=!0;if(typeof e!="function")throw new TypeError("Expected a function");return se(t)&&(r="leading"in t?!!t.leading:r,o="trailing"in t?!!t.trailing:o),Ne(e,n,{leading:r,trailing:o,maxWait:n})}var Wt=I((e,n)=>{let{debounceInterval:t,debounceOptions:r,manual:o}=n;const i=C(!1),l=C(),a=T(()=>r),s=T(()=>x(t)),u=C(e.context.runAsync);return o||(i.value=!0),J(c=>{j(s.value)||(l.value=Ne(f=>f(),s.value,a.value),e.context.runAsync=function(){for(var f=arguments.length,p=new Array(f),m=0;m<f;m++)p[m]=arguments[m];return new Promise((w,v)=>{i.value?(i.value=!1,u.value(...p).then(w).catch(v)):l.value(()=>{u.value(...p).then(w).catch(v)})})},c(()=>{var f;(f=l.value)===null||f===void 0||f.cancel(),e.context.runAsync=u.value}))}),{onCancel(){var c;(c=l.value)===null||c===void 0||c.cancel()}}}),$t=I((e,n)=>{let{errorRetryCount:t=0,errorRetryInterval:r=0}=n;const o=C(),i=C(0),l=T(()=>x(t)),a=T(()=>x(r));let s=!1;const u=()=>{i.value=0},c=T(()=>{if(a.value)return a.value;const m=1e3,w=1,v=9,_=Math.floor(Math.random()*2**Math.min(i.value,v)+w);return m*_}),f=()=>{let m;const w=l.value===-1,v=i.value<l.value;return(w||v)&&(w||(i.value+=1),m=setTimeout(()=>{s=!0,e.context.refresh()},c.value)),()=>m&&clearTimeout(m)},p=()=>{o.value&&o.value()};return{onBefore(){s||u(),s=!1,p()},onSuccess(){u()},onError(){o.value=f()},onCancel(){u(),p()}}}),Gt=I((e,n)=>{let{ready:t=C(!0),manual:r,defaultParams:o=[]}=n;return M(t,i=>{!r&&i&&e.context.run(...o)},{flush:"sync"}),{onBefore(){if(!(le(t)?t():t.value))return e.loading.value=!1,{isBreak:!0}}}}),Zt=I((e,n)=>{let{refreshDeps:t,refreshDepsAction:r,manual:o}=n;if(t===void 0||oe(t)&&t.length===0)return{};const i=oe(t)?t:[t];return M(i,()=>{r?r():!o&&e.context.refresh()}),{}}),zt=I((e,n)=>{let{throttleInterval:t,throttleOptions:r}=n;const o=C(),i=T(()=>x(t)),l=T(()=>r),a=C(e.context.runAsync);return J(s=>{if(j(t))return{};o.value=Ht(u=>u(),i.value,l.value),e.context.runAsync=function(){for(var u=arguments.length,c=new Array(u),f=0;f<u;f++)c[f]=arguments[f];return new Promise((p,m)=>{o.value(()=>{a.value(...c).then(p).catch(m)})})},s(()=>{var u;(u=o.value)===null||u===void 0||u.cancel(),e.context.runAsync=a.value})}),{onCancel(){var s;(s=o.value)===null||s===void 0||s.cancel()}}});const Qt=(e,n)=>t=>{Object.keys(t).forEach(r=>{e[r].value=t[r]}),n.forEach(r=>r(e))},Kt=(e,n)=>()=>{let t=n;for(let r=e.length;r-- >0;)t=e[r](t);return t()},Ut=(e,n,t)=>{var r,o;const{initialData:i,onSuccess:l,onError:a,onBefore:s,onAfter:u}=n,c=C((r=t==null?void 0:t.loading)!==null&&r!==void 0?r:!1),f=G((o=t==null?void 0:t.data)!==null&&o!==void 0?o:i),p=G(t==null?void 0:t.error),m=C(t==null?void 0:t.params),w=C([]),v=G("pending"),_={},y=Qt({status:v,loading:c,data:f,error:p,params:m},[]),b=function(g){for(var S=arguments.length,A=new Array(S>1?S-1:0),R=1;R<S;R++)A[R-1]=arguments[R];if(g==="onQuery"){const O=w.value.map(h=>h.onQuery).filter(Boolean);return{servicePromise:Kt(O,A[0])()}}else{const O=w.value.map(h=>{var d;return(d=h[g])===null||d===void 0?void 0:d.call(h,...A)});return Object.assign({},...O)}},E=C(0);return _.runAsync=async function(){for(var g=arguments.length,S=new Array(g),A=0;A<g;A++)S[A]=arguments[A];y({loading:!0,params:S,status:"pending"}),E.value+=1;const R=E.value,{isBreak:O,breakResult:h=X()}=b("onBefore",S);if(O)return y({status:"settled"}),h;s==null||s(S);try{const d=()=>new Promise(D=>D(e(...m.value)));let{servicePromise:L}=b("onQuery",d);L||(L=d());const k=await L;return R!==E.value?X():(y({data:k,loading:!1,error:void 0,status:"settled"}),b("onSuccess",k,S),l==null||l(k,S),R===E.value&&b("onAfter",S,k,void 0),u==null||u(S),k)}catch(d){if(R!==E.value)return X();throw y({loading:!1,error:d,status:"settled"}),b("onError",d,S),a==null||a(d,S),R===E.value&&b("onAfter",S,void 0,d),u==null||u(S),d}},_.run=function(){_.runAsync(...arguments).catch(g=>{a||console.error(g)})},_.cancel=()=>{E.value+=1,y({loading:!1}),b("onCancel")},_.refresh=()=>{_.run(...m.value||[])},_.refreshAsync=()=>_.runAsync(...m.value||[]),_.mutate=g=>{const S=le(g)?g(f.value):g,A=Bt(S);y({data:A}),b("onMutate",A)},{status:v,loading:c,data:f,error:p,params:m,plugins:w,context:_}};function Jt(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=arguments.length>2?arguments[2]:void 0;const r=ge(Pe,{}),o={...Dt(),...r,...n},{manual:i=!1,defaultParams:l=[]}=o,a=Ut(e,o);if(a.plugins.value=t.map(s=>s(a,o)),!i){const s=a.params.value||l;a.context.run(...s)}return V(()=>{a.context.cancel()}),{loading:a.loading,data:a.data,error:a.error,params:a.params,cancel:a.context.cancel,refresh:a.context.refresh,refreshAsync:a.context.refreshAsync,mutate:a.context.mutate,run:a.context.run,runAsync:a.context.runAsync}}const z=new Map,Yt=(e,n)=>{z.set(e,n),n.then(t=>(z.delete(e),t)).catch(()=>{z.delete(e)})},Xt=e=>z.get(e),F=new Map,qt=(e,n)=>{F.has(e)&&F.get(e).forEach(t=>t(n))},en=(e,n)=>(F.has(e)?F.get(e).push(n):F.set(e,[n]),()=>{const t=F.get(e).indexOf(n);F.get(e).splice(t,1)});var tn=I((e,n)=>{let{cacheKey:t,cacheTime:r=6e5,staleTime:o=0,getCache:i,setCache:l}=n;if(!t)return{};const a=le(t)?t:()=>t,s=C(()=>{});let u;const c=y=>i?i(y):Vt(y),f=(y,b,E)=>{l?l(y,E):jt(y,b,E),qt(y,E.data)},p=y=>o===-1||y+o>new Date().getTime(),m=(y,b)=>Object.prototype.hasOwnProperty.call(y,b),w=y=>{const b=a(y);return en(b,E=>{e.data.value=E})},v=a(),_=c(v);return _&&m(_,"data")&&(e.data.value=_.data,e.params.value=_.params),v&&(s.value=w()),V(()=>{s.value()}),{onBefore(y){const b=a(y),E=c(b);if(!E||!m(E,"data"))return{};if(p(E.time))return e.data.value=E.data,e.loading.value=!1,{isBreak:!0,breakResult:E.data};e.data.value=E.data},onQuery(y){const b=e.params.value,E=a(b);let g=Xt(E);return g&&g!==u?()=>g:(g=y(),u=g,Yt(E,g),()=>g)},onSuccess(y,b){const E=a(b);E&&(s.value(),f(E,r,{data:y,params:b,time:new Date().getTime()}),s.value=w(b))},onMutate(y){const b=a(e.params.value);b&&(s.value(),f(b,r,{data:y,params:e.params.value,time:new Date().getTime()}),s.value=w(e.params.value))}}});function nn(e){let n,t;class r extends Promise{constructor(i){super(i),this.cancel=()=>{t(),clearTimeout(n)}}}return new r(o=>{t=o,n=setTimeout(t,e)})}function q(){return new Date().getTime()}var on=I((e,n)=>{let{loadingDelay:t=0,loadingKeep:r=0}=n;const o=C(()=>{}),i=T(()=>x(t)),l=T(()=>x(r));let a=0,s={};const u=()=>{let c;return i.value&&(c=setTimeout(()=>{e.status.value==="pending"&&(e.loading.value=!0)},i.value)),()=>c&&clearTimeout(c)};return{onBefore(){e.loading.value=!i.value,o.value(),o.value=u(),a=q()},onQuery(c){if(!l.value)return()=>c();s=nn(l.value+i.value);const f=async()=>{try{const m=await c();return q()-a<=i.value&&s.cancel(),Promise.resolve(m)}catch(m){return q()-a<=i.value&&s.cancel(),Promise.reject(m)}},p=Promise.allSettled([f(),s]).then(m=>{const w=m[0];return w.status==="fulfilled"?w.value:Promise.reject(w.reason)});return()=>p},onCancel(){o.value()},onAfter(){o.value()}}}),ee;const De=new Set,Fe=new Set,Be=new Set,U=(e,n)=>{let t;switch(e){case"FOCUS_LISTENER":t=De;break;case"RECONNECT_LISTENER":t=Be;break;case"VISIBLE_LISTENER":t=Fe;break}if(!t.has(n))return t.add(n),()=>{t.delete(n)}},te=e=>{e.forEach(n=>{n()})};!ue&&(ee=window)!==null&&ee!==void 0&&ee.addEventListener&&(window.addEventListener("visibilitychange",()=>{Ie()&&te(Fe)},!1),window.addEventListener("focus",()=>te(De),!1),window.addEventListener("online",()=>te(Be),!1));var rn=I((e,n)=>{let{pollingInterval:t,pollingWhenHidden:r=!1,pollingWhenOffline:o=!1,errorRetryCount:i=0}=n;const l=C(),a=C(!1),s=T(()=>x(t)),u=T(()=>x(i)),c=[],f=v=>{v&&c.push(v)},p=()=>(r||Ie())&&(o||Ft()),m=v=>{if(e.error.value&&u.value!==0)return;let _;if(!j(s.value)&&s.value>=0)if(p())_=setTimeout(v,s.value);else{a.value=!0;return}return()=>_&&clearTimeout(_)},w=()=>{a.value&&p()&&(e.context.refresh(),a.value=!1)};return M(s,()=>{l.value&&(l.value(),l.value=m(()=>e.context.refresh()))}),r||f(U("VISIBLE_LISTENER",w)),o||f(U("RECONNECT_LISTENER",w)),V(()=>{c.forEach(v=>v())}),{onBefore(){var v;(v=l.value)===null||v===void 0||v.call(l)},onCancel(){var v;(v=l.value)===null||v===void 0||v.call(l)},onAfter(){l.value=m(()=>e.context.refresh())}}});const an=(e,n)=>{let t=!1;return function(){t||(t=!0,e(...arguments),setTimeout(()=>{t=!1},n))}};var sn=I((e,n)=>{let{refreshOnWindowFocus:t=!1,refocusTimespan:r=5e3}=n;const o=T(()=>x(t)),i=T(()=>x(r)),l=[],a=u=>{u&&l.push(u)},s=()=>{l.forEach(u=>u())};return J(()=>{if(s(),o.value){const u=an(e.context.refresh,i.value);a(U("VISIBLE_LISTENER",u)),a(U("FOCUS_LISTENER",u))}}),V(()=>{s()}),{}});function ln(e,n,t){return Jt(e,n,[...t||[],on,$t,Wt,rn,zt,sn,Zt,Gt,tn])}var yn=e=>{ze(Pe,e)};function un(e,n,t=1e3*60,r=!1){const o={commodityInfo:e,id:n,interval:t},i=document.createElement("div");document.body.appendChild(i);const l=we(ye(()=>{const{data:a,run:s,cancel:u}=ln(ut,{pollingInterval:t,pollingWhenHidden:!1,pollingWhenOffline:!1,manual:!0}),c=Mt("pollingHistory",[],{serializer:{read:p=>JSON.parse(p),write:p=>JSON.stringify(p)}}),f=M(a,()=>{var p;((p=a.value)==null?void 0:p.code)=="0"&&(be.emit("message:noteGenerateSuccess",e),u(),c.value=c.value.filter(m=>m.id!=n),ae(()=>{l.unmount(),i.remove()}))});return s({id:n}),r||(c.value=[...c.value,o]),V(()=>{console.log("unmounted polling"),f()}),()=>Qe(e.name)}));l.mount(i)}const cn=ye({__name:"App",setup(e){var p;const{t:n}=nt(),{width:t}=It(),r=St(t),o=document.documentElement,i=T(()=>Math.max(r.value/1920*10,7)),l=M(r,()=>{o.style.fontSize="".concat(i.value,"px")});o.style.fontSize="".concat(i.value,"px");const a=_e(),s=Ke();a.checkLogin().then(m=>{if(!m)return s.replace({name:"auth"});s.replace({name:"home"}),JSON.parse(localStorage.getItem("pollingHistory")||"[]").forEach(({commodityInfo:v,id:_,interval:y})=>{un(v,_,y,!0)})});const{language:u}=Pt();ot(((p=u.value)==null?void 0:p.split("-")[0])||"");const c=ge("emitter"),f=C(!1);return c==null||c.on("fullScreenLoading:show",()=>{console.log("fullScreenLoading:show"),f.value=!0}),c==null||c.on("fullScreenLoading:hide",Te(()=>{f.value=!1},500)),c==null||c.on("message:error",m=>{dt.error(n(m))}),c==null||c.on("message:noteGenerateSuccess",m=>{ft.success(n("generateNoteSuccess",{name:m.name}))}),re(()=>{window.postMessage("hideFirstLoading")}),V(()=>{l(),c==null||c.all.clear()}),(m,w)=>{const v=mt;return Y(),Ue(qe,null,[de(v,null,{default:Je(()=>[de(ne(et))]),_:1}),(Y(),fe(Xe,{to:"body"},[f.value?(Y(),fe(ne(ct),{key:0,"blur-bg":!0})):Ye("",!0)]))],64)}}}),ce=we(cn);ce.provide("emitter",be);ce.use(tt()).use(Ee).use(rt());ce.mount("#app");export{dn as __vite_legacy_guard,wn as a,gn as b,yn as c,un as d,ln as e,Te as f,_e as u};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["chunks/index-wFtZqsDy.js","chunks/vue-vendor-Ewu5EBAq.js","chunks/comp-libs-hM04ODlz.js","chunks/api-libs-1XXty04u.js","chunks/locale-vendor-npigJYsg.js","chunks/comp-vendor-oDlW8gRb.js","assets/comp-libs-_u9IGPIW.css","assets/index-1BkMbKRN.css","chunks/home-kVCfsq3m.js","assets/home-0wUIjXKy.css","chunks/commodity-Q514UlTR.js","chunks/useRequestList-3AMQgWq2.js","assets/useRequestList-OTb7wRL6.css","assets/commodity-oknFfm-o.css","chunks/notes-RwDJvGjd.js","assets/notes-M5SpyPml.css","chunks/notFound-vJIAvL6y.js","assets/notFound-eLxcrxFX.css","chunks/auth-xmxMUMbJ.js","assets/auth-Wjq7qnVn.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}