import{u as Y}from"./api-libs-Yru0OYFh.js";import{u as E}from"./locale-vendor-LTacbNcc.js";import{C as Z,a as ee,I as L,O as te,S as oe,P as ne,U as le,F as j,b as q,c as H,T as K,d as ae}from"./comp-vendor-Va0SXYoc.js";import{d as V,f as d,h as g,l as a,u as o,B as i,F as B,N as z,p as R,_ as e,x as P,M as u,q as T,j as S,r as U,J as Q,K as W,k as J,n as se,a as D}from"./vue-vendor-13TjpPhz.js";const ie={class:"commodity-item"},ce={class:"image-wrap flex items-center mr-8"},re=["src"],me={class:"commodity-info mr-8 flex flex-col flex-1 w-0"},de={class:"title-wrap flex items-center"},ue={class:"name font-bold ml-8 one-line"},pe={class:"id ml-8"},_e={class:"info-wrap mt-4 flex flex-1 [&>div]:flex [&>div]:flex-col [&>div]:w-1/3"},fe={class:"selling-points"},be={class:"info-title one-line mb-4"},ge={class:"info-item flex items-center selling-point-item"},he={class:"one-line"},ye={key:0,class:"more flex items-center"},ve={class:"scenarios"},Ne={class:"info-title one-line mb-4"},Ce={class:"info-item flex items-center scene-item"},xe={class:"one-line"},Fe={key:0,class:"more flex flex-1 items-center"},$e={class:"notes"},Ie={class:"info-title one-line mb-4"},Pe={class:"info-item flex items-center note-item"},Ve={class:"one-line"},we={key:0,class:"more flex flex-1 items-center"},ke=V({__name:"CommodityItem",props:{commodityInfo:{default:()=>({images:[],brand:"",id:"",name:"",notes:[],scenarios:[],sellPoints:[]})}},emits:["createNote"],setup(h,{emit:p}){const{t}=E(),{commodityInfo:c}=h,{images:n,brand:l,id:m,name:N,notes:f,scenarios:y,sellPoints:$}=c,x=p;function _(){x("createNote",c)}return(s,C)=>{const r=Z,F=ee;return d(),g("section",ie,[a("div",ce,[o(F,{class:"carousel","auto-play":!0,"indicator-type":"dot","show-arrow":"hover","animation-name":"fade"},{default:i(()=>[(d(!0),g(B,null,z(e(n).length?e(n).slice(0,3):["http://dummyimage.com/200x200"],b=>(d(),R(r,{class:"carousel-item full-size"},{default:i(()=>[a("img",{class:"full-size",src:b,loading:"lazy"},null,8,re)]),_:2},1024))),256))]),_:1})]),a("div",me,[a("div",de,[o(e(X),{class:"brand"},{default:i(()=>[P(u(e(l)),1)]),_:1}),a("span",ue,u(e(N)),1),a("span",pe,"#"+u(e(m)),1)]),a("div",_e,[a("div",fe,[a("div",be,u(e(t)("components.CommodityItem.sellPoints")),1),(d(!0),g(B,null,z(e($).length<=4?e($):e($).slice(0,3),b=>(d(),g("div",ge,[a("span",he,u(b),1)]))),256)),e($).length>4?(d(),g("div",ye," ... ")):T("",!0)]),a("div",ve,[a("div",Ne,u(e(t)("components.CommodityItem.scenarios")),1),(d(!0),g(B,null,z(e(y).length<=4?e(y):e(y).slice(0,3),b=>(d(),g("div",Ce,[a("span",xe,u(b),1)]))),256)),e(y).length>4?(d(),g("div",Fe," ... ")):T("",!0)]),a("div",$e,[a("div",Ie,u(e(t)("components.CommodityItem.notes"))+"("+u(e(f).length)+")",1),(d(!0),g(B,null,z(e(f).length<=4?e(f):e(f).slice(0,3),b=>(d(),g("div",Pe,[a("span",Ve,u(b.title),1)]))),256)),e(f).length>4?(d(),g("div",we," ... ")):T("",!0)])])]),o(e(O),{class:"mr-4",onClick:_},{default:i(()=>[P(u(e(t)("components.CommodityItem.genNoteBtn")),1)]),_:1})])}}}),w=(h,p)=>{const t=h.__vccOpts||h;for(const[c,n]of p)t[c]=n;return t},Ct=w(ke,[["__scopeId","data-v-2e311242"]]),Se=V({__name:"DangerButton",emits:["click"],setup(h,{emit:p}){const t=p;return(c,n)=>(d(),g("button",{class:"danger-button center-btn",onClick:n[0]||(n[0]=l=>t("click",l))},[S(c.$slots,"default",{},void 0,!0)]))}}),Be=w(Se,[["__scopeId","data-v-78647746"]]),ze={class:"filter-bar flex items-center"},Ee=V({__name:"FilterBar",props:{placeholder:{default:""},filterConditionList:{default:()=>[]}},emits:["change"],setup(h,{emit:p}){const{t}=E(),{placeholder:c,filterConditionList:n}=h,l=p,m=U(""),N=U("");function f(){l("change",{searchText:m.value,filterCondition:N.value})}function y(){m.value=""}return($,x)=>{const _=L,s=te,C=oe;return d(),g("section",ze,[o(_,{modelValue:m.value,"onUpdate:modelValue":x[0]||(x[0]=r=>m.value=r),class:"search-input",placeholder:e(t)("components.FilterBar.searchPlaceHolder",{text:c}),onChange:f},{prefix:i(()=>[o(e(G),{class:"search-icon",name:"search"})]),suffix:i(()=>[Q(a("div",{class:"clear-input flex items-center justify-center",onClick:y},[o(e(G),{name:"close"})],512),[[W,m.value]])]),_:1},8,["modelValue","placeholder"]),o(C,{class:"filter-condition",modelValue:N.value,"onUpdate:modelValue":x[1]||(x[1]=r=>N.value=r),placeholder:e(t)("components.FilterBar.filterPlaceHolder"),"allow-clear":"","allow-search":"","default-active-first-option":!1,onChange:f},{prefix:i(()=>[o(e(G),{class:"filter-icon",name:"filter"})]),default:i(()=>[(d(),g(B,null,z(n,r=>o(s,{key:r},{default:i(()=>[P(u(r),1)]),_:2},1024)),64))]),_:1},8,["modelValue","placeholder"])])}}}),xt=w(Ee,[["__scopeId","data-v-601a4766"]]),Ge=V({__name:"Loading",props:{color1:{},color2:{},containerSize:{default:200},ballSize:{default:10},ballTotal:{default:36},duration:{default:3},delayScale:{default:5},blurBg:{type:Boolean,default:!1}},setup(h){function p(t){return typeof t=="number"?t/10+"rem":t}return(t,c)=>(d(),g("section",{class:se(["loading-mask absolute inset-0",{"backdrop-blur bg-gray-300":t.blurBg}])},[a("div",{class:"loading-wrapper",style:J({"--ball-color-1":t.color1,"--ball-color-2":t.color2,"--ball-total":t.ballTotal,"--container-size":p(t.containerSize),"--ball-size":p(t.ballSize),"--animation-duration":(t.duration||3)+"s","--animation-delay-scale":t.delayScale})},[(d(!0),g(B,null,z(t.ballTotal,n=>(d(),g("div",{class:"dot-group",style:J({"--dot-count":n})},null,4))),256))],4)],2))}}),Ft=w(Ge,[["__scopeId","data-v-860cee27"]]),Ue={class:"note-item flex"},Te={class:"note-info-wrap flex"},Le={class:"image-wrap"},Re=["src","alt"],je={class:"note-info ml-4 flex flex-col justify-between"},qe={class:"id"},He={class:"title one-line"},De={class:"create-date one-line"},Me=["innerHTML"],Oe={class:"commodity-info flex flex-col"},Ae={class:"flex items-center"},Je={class:"cid"},Ke={class:"cname mt-2 one-line"},Qe={class:"operate flex items-center justify-center"},We=V({__name:"NoteItem",props:{noteInfo:{default:()=>({id:"",title:"",content:"",desc:"",tags:[],images:[],videos:[],topics:[],status:"save",commodityInfo:{id:"",brand:"",name:"",images:[]},createTime:new Date})}},emits:["publishNote","deleteNote"],setup(h,{emit:p}){const{noteInfo:t}=h,c=p,{id:n,title:l,content:m,createTime:N,commodityInfo:f}=t;function y(){c("publishNote",t)}function $(){c("deleteNote",t)}return(x,_)=>{var s,C,r,F,b;return d(),g("section",Ue,[a("div",Te,[a("div",Le,[a("img",{src:((s=e(f))==null?void 0:s.images[0])||"http://dummyimage.com/200x200",alt:((C=e(f))==null?void 0:C.name)||"not image"},null,8,Re)]),a("div",je,[a("span",qe,"#"+u(e(n)),1),a("span",He,u(e(l)),1),a("span",De,u(new Date(e(N)).toLocaleString()),1)])]),a("div",{class:"note-content line-clamp-3 overflow-hidden mr-4",innerHTML:e(m)},null,8,Me),a("div",Oe,[a("div",Ae,[a("span",Je,u((r=e(f))!=null&&r.id?"#".concat(e(f).id):""),1),Q(o(e(X),{class:"ml-8"},{default:i(()=>{var k;return[P(u((k=e(f))!=null&&k.brand?e(f).brand:""),1)]}),_:1},512),[[W,(F=e(f))==null?void 0:F.brand]])]),a("span",Ke,u((b=e(f))!=null&&b.name?e(f).name:""),1)]),a("div",Qe,[o(e(O),{onClick:y},{default:i(()=>[P(u(x.$t("components.NoteItem.publishBtn")),1)]),_:1}),o(e(Be),{onClick:$},{default:i(()=>[P(u(x.$t("components.NoteItem.deleteBtn")),1)]),_:1})])])}}}),$t=w(We,[["__scopeId","data-v-cad98e3b"]]),Xe={class:"pagination-bar flex items-center justify-between"},Ye={class:"left"},Ze={class:"right flex items-center"},et={class:"total-page"},tt={class:"page-list-wrap flex"},ot={key:0},nt={class:"page-step prev-page-btn flex items-center justify-center"},lt={key:1},at={class:"page-step next-page-btn flex items-center justify-center"},st=V({__name:"Pagination",props:{total:{default:1},currentPage:{default:1},pageSize:{default:10}},emits:["change","update:currentPage"],setup(h,{emit:p}){const{t}=E(),c=h,n=p;function l(m){n("update:currentPage",m),n("change",m)}return(m,N)=>{const f=ne;return d(),g("section",Xe,[a("div",Ye,[S(m.$slots,"left",{},void 0,!0)]),a("div",Ze,[S(m.$slots,"right",{},()=>[a("div",et,u(e(t)("components.Pagination.totalPage",{totalPage:Math.ceil(m.total/m.pageSize)})),1),a("div",tt,[o(f,{current:c.currentPage,"onUpdate:current":N[0]||(N[0]=y=>c.currentPage=y),total:c.total,"page-size":c.pageSize,"page-item-style":{height:"3.4rem"},"active-page-item-style":{height:"3.4rem"},onChange:l},{"page-item-step":i(({type:y})=>[y=="previous"?(d(),g("div",ot,[a("div",nt,[o(e(G),{name:"chevron-left"}),a("span",null,u(e(t)("components.Pagination.prevPageBtn")),1)])])):y=="next"?(d(),g("div",lt,[a("div",at,[a("span",null,u(e(t)("components.Pagination.nextPageBtn")),1),o(e(G),{name:"chevron-right"})])])):T("",!0)]),_:1},8,["current","total","page-size"])])],!0)])])}}}),It=w(st,[["__scopeId","data-v-3f1d327d"]]),it=V({__name:"PrimaryButton",emits:["click"],setup(h,{emit:p}){const t=p;return(c,n)=>(d(),g("button",{class:"primary-button center-btn",onClick:n[0]||(n[0]=l=>t("click",l))},[S(c.$slots,"default",{},void 0,!0)]))}}),M=w(it,[["__scopeId","data-v-73b742e6"]]),ct=V({__name:"PrimaryButton2",emits:["click"],setup(h,{emit:p}){const t=p;return(c,n)=>(d(),g("button",{class:"primary-button-2 center-btn",onClick:n[0]||(n[0]=l=>t("click",l))},[S(c.$slots,"default",{},void 0,!0)]))}}),O=w(ct,[["__scopeId","data-v-4b0b909c"]]),rt={class:"svg-icon full-size flex-shrink-0","aria-hidden":""},G=V({__name:"SvgIcon",props:{prefix:{},name:{}},setup(h){const{prefix:p="icon",name:t}=h,c="#".concat(p,"-").concat(t);return(n,l)=>(d(),g("svg",rt,[a("use",{href:c,fill:"currentColor"})]))}}),mt={},dt={class:"tag p-4 one-line"};function ut(h,p){return d(),g("section",dt,[S(h.$slots,"default",{},void 0,!0)])}const X=w(mt,[["render",ut],["__scopeId","data-v-76d341e9"]]),pt=V({__name:"CancelButton",emits:["click"],setup(h,{emit:p}){const t=p;return(c,n)=>(d(),g("button",{class:"cancel-button center-btn",type:"reset",onClick:n[0]||(n[0]=l=>{l.stopPropagation(),t("click",l)})},[S(c.$slots,"default",{},void 0,!0)]))}}),A=w(pt,[["__scopeId","data-v-db971833"]]),_t=V({__name:"CreateCommodityForm",props:{disabled:{type:Boolean,default:!1}},emits:["submit","cancel"],setup(h,{emit:p}){const{t}=E(),c=p,n=D({title:"",brand:"",sellPoints:[],scenarios:[],images:[]}),l=_=>({required:!0,message:"".concat(t("components.CreateCommodityForm.label.".concat(_)),"不能为空")}),m={type:"array",minLength:1},N={title:[l("title")],brand:[l("brand")],sellPoints:[l("sellPoints"),m],scenarios:[l("scenarios"),m],images:[l("images"),m]},f=U();function y({values:_,errors:s}){s||_&&c("submit",{..._,images:_.images.map(C=>C.response.data.path)})}function $(){c("cancel")}function x(_){const{onProgress:s,onError:C,onSuccess:r,fileItem:F}=_;Y(F.file,{onUploadProgress(b){let k;(b.total||0>0)&&(k=b.loaded/b.total),s(k,b)}}).then(b=>{r(b)}).catch(b=>{C(b)})}return(_,s)=>{const C=le,r=j,F=L,b=q,k=H;return d(),R(k,{class:"create-commodity-form flex flex-col justify-between full-size",model:n,layout:"horizontal",disabled:_.disabled,"scroll-to-first-error":"",ref:f.value,rules:N,withCredentials:!0,onSubmit:y},{default:i(()=>[a("section",null,[o(r,{field:"images",label:e(t)("components.CreateCommodityForm.label.images")},{default:i(()=>[o(C,{"file-list":n.images,"onUpdate:fileList":s[0]||(s[0]=v=>n.images=v),accept:"image/*","list-type":"picture-card","image-preview":"",multiple:"","response-url-key":v=>v.response.data.path,limit:3,"custom-request":x},null,8,["file-list","response-url-key"])]),_:1},8,["label"]),o(r,{field:"title",label:e(t)("components.CreateCommodityForm.label.title")},{default:i(()=>[o(F,{modelValue:n.title,"onUpdate:modelValue":s[1]||(s[1]=v=>n.title=v),placeholder:e(t)("components.CreateCommodityForm.placeInput",{text:e(t)("components.CreateCommodityForm.label.title")})},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),o(r,{field:"brand",label:e(t)("components.CreateCommodityForm.label.brand")},{default:i(()=>[o(F,{modelValue:n.brand,"onUpdate:modelValue":s[2]||(s[2]=v=>n.brand=v),placeholder:e(t)("components.CreateCommodityForm.placeInput",{text:e(t)("components.CreateCommodityForm.label.brand")})},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),o(r,{field:"sellPoints",label:e(t)("components.CreateCommodityForm.label.sellPoints")},{default:i(()=>[o(b,{modelValue:n.sellPoints,"onUpdate:modelValue":s[3]||(s[3]=v=>n.sellPoints=v),placeholder:e(t)("components.CreateCommodityForm.placeInput",{text:e(t)("components.CreateCommodityForm.label.sellPoints")}),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),o(r,{field:"scenarios",label:e(t)("components.CreateCommodityForm.label.scenarios")},{default:i(()=>[o(b,{modelValue:n.scenarios,"onUpdate:modelValue":s[4]||(s[4]=v=>n.scenarios=v),placeholder:e(t)("components.CreateCommodityForm.placeInput",{text:e(t)("components.CreateCommodityForm.label.scenarios")}),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),o(r,null,{default:i(()=>[o(e(M),null,{default:i(()=>[P(u(e(t)("components.CreateCommodityForm.confirm")),1)]),_:1}),o(e(A),{class:"ml-8",onClick:$},{default:i(()=>[P(u(e(t)("components.CreateCommodityForm.cancel")),1)]),_:1})]),_:1})]),_:1},8,["model","disabled"])}}}),Pt=w(_t,[["__scopeId","data-v-dce6704c"]]),ft={class:"flex-1 overflow-y-auto"},bt=V({__name:"EditNoteForm",props:{disabled:{type:Boolean,default:!1},noteInfo:{default:()=>({})}},emits:["publish","save","cancel"],setup(h,{emit:p}){const{t}=E(),{noteInfo:c}=h,n=p,l=D({title:c.title||"",content:c.content||"",topics:c.topics||[]}),m=_=>({required:!0,message:"".concat(t("components.EditNoteForm.label.".concat(_)),"不能为空")}),N={type:"array",minLength:1},f={title:[m("title")],content:[m("content"),N],topics:[m("topics"),N]},y=U();function $({values:_,errors:s},C){if(s||!_)return;if(C.submitter.dataset.role=="publish")return n("publish",_);n("save",_)}function x(){n("cancel")}return(_,s)=>{const C=L,r=j,F=K,b=q,k=H;return d(),R(k,{class:"create-commodity-form flex flex-col justify-between full-size",model:l,layout:"horizontal",disabled:_.disabled,"scroll-to-first-error":"",ref:y.value,rules:f,onSubmit:$},{default:i(()=>[a("section",ft,[o(r,{field:"title",label:e(t)("components.EditNoteForm.label.title")},{default:i(()=>[o(C,{modelValue:l.title,"onUpdate:modelValue":s[0]||(s[0]=v=>l.title=v),placeholder:e(t)("components.EditNoteForm.placeInput",{text:e(t)("components.EditNoteForm.label.title")})},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),o(r,{field:"content",label:e(t)("components.EditNoteForm.label.content")},{default:i(()=>[o(F,{modelValue:l.content,"onUpdate:modelValue":s[1]||(s[1]=v=>l.content=v),placeholder:e(t)("components.EditNoteForm.placeInput",{text:e(t)("components.EditNoteForm.label.content")}),"auto-size":{minRows:2},"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),o(r,{field:"topics",label:e(t)("components.EditNoteForm.label.topics")},{default:i(()=>[o(b,{modelValue:l.topics,"onUpdate:modelValue":s[2]||(s[2]=v=>l.topics=v),placeholder:e(t)("components.EditNoteForm.placeInput",{text:e(t)("components.EditNoteForm.label.topics")}),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),o(r,{class:"pt-4"},{default:i(()=>[o(e(M),{"data-role":"publish"},{default:i(()=>[P(u(e(t)("components.EditNoteForm.publishBtn")),1)]),_:1}),o(e(O),{class:"ml-8","data-role":"save"},{default:i(()=>[P(u(e(t)("components.EditNoteForm.saveBtn")),1)]),_:1}),o(e(A),{class:"ml-8",onClick:x},{default:i(()=>[P(u(e(t)("components.EditNoteForm.cancel")),1)]),_:1})]),_:1})]),_:1},8,["model","disabled"])}}}),Vt=w(bt,[["__scopeId","data-v-1b2e4c7a"]]),gt=V({__name:"GenerateNoteForm",props:{disabled:{type:Boolean,default:!1},commodityInfo:{default:()=>({})}},emits:["submit","cancel"],setup(h,{emit:p}){const{t}=E(),{commodityInfo:c}=h,n=p,l=D({commodityName:c.name||"",commoditySellPoints:c.sellPoints||[],commodityScenarios:c.scenarios||[],other:"",genNumber:1}),m=_=>({required:!0,message:"".concat(t("components.GenerateNoteForm.label.".concat(_)),"不能为空")}),N={type:"array",minLength:1},f={commodityName:[m("commodityName")],commoditySellPoints:[m("commoditySellPoints"),N],commodityScenarios:[m("commodityScenarios"),N],genNumber:[m("genNumber")]},y=U();function $({values:_,errors:s}){s||_&&n("submit",_)}function x(){n("cancel")}return(_,s)=>{const C=L,r=j,F=q,b=K,k=ae,v=H;return d(),R(v,{class:"generate-commodity-form flex flex-col justify-between full-size",model:l,layout:"horizontal",disabled:_.disabled,"scroll-to-first-error":"",ref:y.value,rules:f,onSubmit:$},{default:i(()=>[a("section",null,[o(r,{field:"commodityName",label:e(t)("components.GenerateNoteForm.label.commodityName")},{default:i(()=>[o(C,{modelValue:l.commodityName,"onUpdate:modelValue":s[0]||(s[0]=I=>l.commodityName=I),placeholder:e(t)("components.GenerateNoteForm.placeInput",{text:e(t)("components.GenerateNoteForm.label.commodityName")})},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),o(r,{field:"commoditySellPoints",label:e(t)("components.GenerateNoteForm.label.commoditysellPoints")},{default:i(()=>[o(F,{modelValue:l.commoditySellPoints,"onUpdate:modelValue":s[1]||(s[1]=I=>l.commoditySellPoints=I),placeholder:e(t)("components.GenerateNoteForm.placeInput",{text:e(t)("components.GenerateNoteForm.label.commoditysellPoints")}),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),o(r,{field:"commodityScenarios",label:e(t)("components.GenerateNoteForm.label.commodityscenarios")},{default:i(()=>[o(F,{modelValue:l.commodityScenarios,"onUpdate:modelValue":s[2]||(s[2]=I=>l.commodityScenarios=I),placeholder:e(t)("components.GenerateNoteForm.placeInput",{text:e(t)("components.GenerateNoteForm.label.commodityscenarios")}),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),o(r,{field:"other",label:e(t)("components.GenerateNoteForm.label.other")},{default:i(()=>[o(b,{modelValue:l.other,"onUpdate:modelValue":s[3]||(s[3]=I=>l.other=I),placeholder:e(t)("components.GenerateNoteForm.placeInput",{text:e(t)("components.GenerateNoteForm.label.other")}),"auto-size":{minRows:2},"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),o(r,{field:"genNumber",label:e(t)("components.GenerateNoteForm.label.genNumber")},{default:i(()=>[o(k,{modelValue:l.genNumber,"onUpdate:modelValue":s[4]||(s[4]=I=>l.genNumber=I),style:{width:"10em",textAlign:"center"},placeholder:e(t)("components.GenerateNoteForm.placeInput",{text:e(t)("components.GenerateNoteForm.label.genNumber")}),min:1,precision:0,mode:"button",formatter:I=>"x "+I,parser:I=>I.replace(/^x\s/,"")},null,8,["modelValue","placeholder","formatter","parser"])]),_:1},8,["label"])]),o(r,null,{default:i(()=>[o(e(M),null,{default:i(()=>[P(u(e(t)("components.GenerateNoteForm.genNoteBtn")),1)]),_:1}),o(e(A),{class:"ml-8",onClick:x},{default:i(()=>[P(u(e(t)("components.GenerateNoteForm.cancel")),1)]),_:1})]),_:1})]),_:1},8,["model","disabled"])}}}),wt=w(gt,[["__scopeId","data-v-fce052c0"]]);export{Ct as C,Vt as E,xt as F,wt as G,Ft as L,$t as N,M as P,G as _,w as a,It as b,Pt as c,A as d};
